<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Nircek's Snake</title>
<meta name="description" content="A basic JS Snake Project by Nircek">
<meta name="author" content="Nircek">
</head>
<body id="body" onload="init()">
<canvas id="canvas">
</canvas>
<script>
'use strict';
var WIDTH = 10;
var HEIGHT = 10;
var SQ = 50;
var PADD = 5;
var MARG = 10;
var MARL = 2; // margin line ("border")
var canvas = undefined;
var ctx = undefined;
function init(){
canvas = document.getElementById('canvas');
ctx = canvas.getContext('2d');
canvas.width=WIDTH*SQ+2*MARG;
canvas.height=HEIGHT*SQ+2*MARG;
ctx.strokeRect(MARL,MARL,WIDTH*SQ+2*MARG-MARL,HEIGHT*SQ+2*MARG-MARL);  // border
}
function sq(x,y, b=true){
if(x<0||x>=WIDTH||y<0||y>=HEIGHT)throw RangeError('('+x+', '+y+') is out of map ('+WIDTH+', '+HEIGHT+')');
if(b)ctx.fillRect(MARG+x*SQ+PADD,MARG+y*SQ+PADD,SQ-2*PADD,SQ-2*PADD);
else ctx.clearRect(MARG+x*SQ+PADD,MARG+y*SQ+PADD,SQ-2*PADD,SQ-2*PADD);
}
var direction = 'Up';
var snakePos = [{x:4,y:5}]
var body = document.getElementById('body');
body.onkeydown = function(e){if(e.key.substr(0,5)=='Arrow')direction=e.key.substr(5,5)};
function update(){
var dx=0;
var dy=0;
switch(direction){
case 'Up':    dy=-1; break;
case 'Down':  dy=+1; break;
case 'Left':  dx=-1; break;
case 'Right': dx=+1; break;
default: throw RangeError(dircetion+' is not a direction');
}
var l = snakePos[snakePos.length-1];
var x = (WIDTH+l.x+dx)%WIDTH;
var y = (HEIGHT+l.y+dy)%HEIGHT;
// calculations of new x, y
snakePos.push({x:x,y:y});
sq(x,y);
// add new part
var apple = false; // TODO: apples
if(!apple){// delete last part
var s = snakePos.shift();
sq(s.x,s.y, false);
}
}
setInterval(update, 1000);

</script>
</body>
</html>